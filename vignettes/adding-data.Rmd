---
title: "Contributing datasets"
author: "Mauro Lepore"
date: "`r Sys.Date()`"
output:
  rmarkdown::html_vignette:
    fig_caption: yes
vignette: >
  %\VignetteIndexEntry{Contributing datasets}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

# Ovewrview

This article sets conventions to document datasets in the __fgeo.opendata__ package. This makes it easier to understand the existing datasets and provides some structure to facilitate the expantion of __fgeo.opendata__.

# Documenting generic datasets

Generic datasets (e.g. ViwFullTable) should have these components:

* A short nickname for the generic table (e.g. vft). If the name is already short (e.g. stem), use the full name (e.g. stem). These are some conventional generic names and nicknames:
    * ViewFullTable: vft.
    * ViewTaxonomy: taxa.
    * tree or full: tree.
    * stem: stem.
    * tree and stem, collectively: census.

* A "meta-dataset" named `generic_description`, with columns `column` and `definition`, defining each column in your dataset.

* The documentation of `generic_description` should include the following (e.g.`?`[vft_description](https://forestgeo.github.io/fgeo.opendata/reference/vft_description.html)):
    * A generic description that applies to any similar dataset, from any ForestGEO site.
    * A section `@seealso`, linking to specific datasets.
    * A section `@examples`, that prints `generic_description`.

```{r, echo=FALSE, fig.cap= "The 'meta-dataset' associated to a generic ViewFullTable"}
cap <- paste0(
  "The 'meta-dataset' `vft_description` of a generic ViewFullTable, ",
  "with column names `column` and `definition`."
)

knitr::kable(
  fgeo.opendata::vft_description, 
  caption = cap
)
```

# Documenting specific datasets

Datasets from a specific site should be named with the format `site_generic_info`: 

* `site` should be a single string uniquely identifying your site among all other sites in the ForestGEO network, and may be a well know nickname (e.g. bci) and 

* `generic` should be one of the conventional short nicknames for generic ForestGEO tables. 

* `info` should be a single short string indicating the most prominent characteristic of the dataset -- commonly referring to the criteria used to subset a larger dataset to produce the contributed dataset.

For example, if your data comes from Barro Colorado Island, and it is a ViewFullTable containing a random subset of a few trees, a good name for it would be `bci_vft_random`. This format works well with auto-completion in RStudio.

* The documentation of `site_generic_info` should include the following:
    * A specific description that applies to this particular dataset.
    * A section `@seealso`, linking to `generic_description`.
    * A section `@examples`, that prints `site_generic_info`.
