md and themed html documents
================
Your name
2018-04-07

# Source

  - On Mon, Mar 19, 2018 at 11:31 PM, Lao, Suzanne <LAOZ@si.edu>
  - On Mon, Mar 19, 2018 at 11:34 PM, Lao, Suzanne <LAOZ@si.edu>

See <https://github.com/forestgeo/fgeo.data/issues/1>.

# Setup

``` r
library(here)
#> here() starts at C:/Users/LeporeM/Dropbox/git_repos/fgeo.data
library(readr)
library(dplyr)
#> 
#> Attaching package: 'dplyr'
#> The following objects are masked from 'package:stats':
#> 
#>     filter, lag
#> The following objects are masked from 'package:base':
#> 
#>     intersect, setdiff, setequal, union
library(fgeo.tool)
library(usethis)

warn_if_nms_differ <- function(x, y) {
  nms_differ <- length(setdiff(names(x), names(y)))
  if (nms_differ) {
    warning("Detected unexpected names.")
  }
}
```

# Data

``` r
dir_path <- "data-raw/database-output"
```

## ViewTaxonomy

Complete ViewTaxonomy table.

``` r
path_taxa <- here::here(dir_path, "ViewTaxonomy.csv")
bci_taxa <- read_tsv(
  path_taxa, 
  col_types = fgeo.tool::type_taxa(), 
  na = c("", "NA", "NULL")
)
warn_if_nms_differ(bci_taxa, fgeo.tool::type_taxa())

glimpse(bci_taxa)
#> Observations: 1,428
#> Variables: 21
#> $ ViewID         <int> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, ...
#> $ SpeciesID      <int> 1, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,...
#> $ SubspeciesID   <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...
#> $ Family         <chr> "Fabaceae-mimosoideae", "Fabaceae-mimosoideae",...
#> $ Mnemonic       <chr> "pit1ba", "acacco", "acacme", "acac1", "acaldi"...
#> $ Genus          <chr> "Abarema", "Acacia", "Acacia", "Acacia", "Acaly...
#> $ SpeciesName    <chr> "barbouriana", "collinsii", "melanoceras", "sp....
#> $ Rank           <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...
#> $ Subspecies     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...
#> $ Authority      <chr> "(Standl.) Barneby & J.W. Grimes", "Saff.", "Be...
#> $ IDLevel        <chr> "species", "species", "species", "genus", "spec...
#> $ subspMnemonic  <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...
#> $ subspAuthority <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...
#> $ FieldFamily    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...
#> $ Lifeform       <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...
#> $ Description    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...
#> $ wsg            <dbl> 0.566750, 0.774541, 0.774541, 0.774541, 0.30000...
#> $ wsglevel       <chr> "genus", "genus", "genus", "genus", "genus", "g...
#> $ ListOfOldNames <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...
#> $ Specimens      <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...
#> $ Reference      <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...
use_data(bci_taxa, overwrite = TRUE)
#> <U+2714> Saving bci_taxa to data/bci_taxa.rda
```

## All trees in one hectare

One hectare of data for hectare: `px >= 700` and `px < 800`; and `py
>=100` and `py < 200`. The data includes only those records from census
2005 and census 2010.

``` r
path_bci_vft_1ha <- here::here(dir_path, "ViewFullTable_hec37.csv")
bci_vft_1ha <- read_tsv(
  path_bci_vft_1ha, 
  col_types = fgeo.tool::type_vft(),
  na = c("", "NA", "NULL")
)
warn_if_nms_differ(bci_vft_1ha, fgeo.tool::type_vft())

glimpse(bci_vft_1ha)
#> Observations: 10,543
#> Variables: 32
#> $ DBHID            <int> 148842, 150985, 148877, 148912, 151013, 14901...
#> $ PlotName         <chr> "bci", "bci", "bci", "bci", "bci", "bci", "bc...
#> $ PlotID           <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ...
#> $ Family           <chr> "Simaroubaceae", "Simaroubaceae", "Sapotaceae...
#> $ Genus            <chr> "Simarouba", "Simarouba", "Pouteria", "Pouter...
#> $ SpeciesName      <chr> "amara", "amara", "reticulata", "reticulata",...
#> $ Mnemonic         <chr> "simaam", "simaam", "poutre", "poutre", "pout...
#> $ Subspecies       <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N...
#> $ SpeciesID        <int> 935, 935, 1155, 1155, 1155, 871, 871, 434, 43...
#> $ SubspeciesID     <chr> NA, NA, NA, NA, NA, "13", "13", NA, NA, NA, N...
#> $ QuadratName      <chr> "3909", "3909", "3909", "3909", "3909", "3908...
#> $ QuadratID        <int> 2806, 2806, 2806, 2806, 2806, 2805, 2805, 280...
#> $ PX               <dbl> 792.1, 792.1, 792.8, 792.8, 792.8, 783.2, 783...
#> $ PY               <dbl> 181.2, 181.2, 189.6, 189.6, 189.6, 176.8, 176...
#> $ QX               <dbl> 12.1, 12.1, 12.8, 12.8, 12.8, 3.2, 3.2, 19.1,...
#> $ QY               <dbl> 1.2, 1.2, 9.6, 9.6, 9.6, 16.8, 16.8, 7.8, 7.8...
#> $ TreeID           <int> 1853, 1853, 1857, 1857, 1857, 1861, 1861, 186...
#> $ Tag              <chr> "001854", "001854", "001858", "001858", "0018...
#> $ StemID           <int> 1853, 1853, 1857, 1857, 1857, 1861, 1861, 186...
#> $ StemNumber       <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ...
#> $ StemTag          <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N...
#> $ PrimaryStem      <chr> "main", "main", "main", "main", "main", "main...
#> $ CensusID         <int> 6, 171, 6, 6, 171, 6, 171, 6, 171, 6, 6, 171,...
#> $ PlotCensusNumber <int> 6, 7, 6, 6, 7, 6, 7, 6, 7, 6, 6, 7, 6, 7, 6, ...
#> $ DBH              <dbl> 508, 555, 494, 415, 455, 774, 778, 300, 304, ...
#> $ HOM              <dbl> 1.30, 1.30, 1.30, 3.70, 3.70, 6.00, 6.00, 1.3...
#> $ ExactDate        <date> 2005-07-18, 2010-07-27, 2005-09-30, 2005-09-...
#> $ Date             <int> 16635, 18470, 16709, 16709, 18512, 16721, 185...
#> $ ListOfTSM        <chr> NA, NA, "B;cylN", "B;cylN", "B;cylN", "B;cylN...
#> $ HighHOM          <int> 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, ...
#> $ LargeStem        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N...
#> $ Status           <chr> "alive", "alive", "alive", "alive", "alive", ...
use_data(bci_vft_1ha, overwrite = TRUE)
#> <U+2714> Saving bci_vft_1ha to data/bci_vft_1ha.rda
```

## One thousand trees, selected at random

1000 randomly chosen trees from the whole plot. Only included data from
census 2005 and census 2010.

``` r
path_bci_vft_random <- here::here(dir_path, "ViewFullTable_random.csv")
bci_vft_random <- read_tsv(
  path_bci_vft_random, 
  col_types = fgeo.tool::type_vft(),
  na = c("", "NA", "NULL")
)
warn_if_nms_differ(bci_vft_random, fgeo.tool::type_vft())

glimpse(bci_vft_random)
#> Observations: 2,257
#> Variables: 32
#> $ DBHID            <int> 1621522, 1619521, 1632477, 1630644, 1077531, ...
#> $ PlotName         <chr> "bci", "bci", "bci", "bci", "bci", "bci", "bc...
#> $ PlotID           <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ...
#> $ Family           <chr> "Violaceae", "Violaceae", "Fabaceae-papiliono...
#> $ Genus            <chr> "Hybanthus", "Hybanthus", "Lonchocarpus", "Lo...
#> $ SpeciesName      <chr> "prunifolius", "prunifolius", "heptaphyllus",...
#> $ Mnemonic         <chr> "hybapr", "hybapr", "loncla", "loncla", "beil...
#> $ Subspecies       <chr> NA, NA, NA, NA, NA, NA, NA, NA, "ochnacea", "...
#> $ SpeciesID        <int> 494, 494, 1134, 1134, 99, 99, 895, 895, 980, ...
#> $ SubspeciesID     <chr> NA, NA, NA, NA, NA, NA, NA, NA, "8", "8", NA,...
#> $ QuadratName      <chr> "4715", "4715", "0022", "0022", "1619", "1619...
#> $ QuadratID        <int> 3012, 3012, 1261, 1261, 2241, 2241, 3052, 305...
#> $ PX               <dbl> 957.30, 957.30, 16.30, 16.30, 324.60, 324.60,...
#> $ PY               <dbl> 306.90, 306.90, 442.50, 442.50, 392.40, 392.4...
#> $ QX               <dbl> 17.30, 17.30, 16.30, 16.30, 4.60, 4.60, 0.30,...
#> $ QY               <dbl> 6.90, 6.90, 2.50, 2.50, 12.40, 12.40, 18.20, ...
#> $ TreeID           <int> 267125, 267125, 269374, 269374, 159260, 15926...
#> $ Tag              <chr> "312412", "312412", "400860", "400860", "1835...
#> $ StemID           <int> 267125, 267125, 577077, 577077, 159260, 15926...
#> $ StemNumber       <int> 1, 1, 2, 2, 1, 1, 1, 1, 1, 1, 1, 19, 20, 21, ...
#> $ StemTag          <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N...
#> $ PrimaryStem      <chr> "main", "main", "main", "main", "main", "main...
#> $ CensusID         <int> 6, 171, 6, 171, 6, 171, 6, 171, 6, 171, 171, ...
#> $ PlotCensusNumber <int> 6, 7, 6, 7, 6, 7, 6, 7, 6, 7, 7, 6, 6, 7, 7, ...
#> $ DBH              <dbl> 27, 30, NA, NA, 42, NA, 26, 28, 28, 40, 11, 6...
#> $ HOM              <dbl> 1.3, 1.3, NA, NA, 1.3, NA, 1.3, 1.3, 1.3, 1.3...
#> $ ExactDate        <date> 2005-10-05, 2010-09-06, 2005-02-25, 2010-03-...
#> $ Date             <int> 16714, 18511, 16492, 18323, 16544, 18378, 167...
#> $ ListOfTSM        <chr> NA, NA, "OR", "D;N", NA, "D;C", "L", NA, NA, ...
#> $ HighHOM          <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ...
#> $ LargeStem        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N...
#> $ Status           <chr> "alive", "alive", "broken below", "dead", "al...
use_data(bci_vft_random, overwrite = TRUE)
#> <U+2714> Saving bci_vft_random to data/bci_vft_random.rda
```
